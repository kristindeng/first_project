<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //第一种声明函数
    function fn1(){

    }
    //第二种：赋值方式声明函数
    var fn2 = function (x,y){
        return x+y;
    }
    //箭头函数=>
    var fn3 = x => x
    var fn4 = () =>10
    var fn5 = (x,y) => x+y
    console.log(fn4());//10
    console.log(fn5(10,20));//30

    //如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用return语句返回
    var fn6 = function (x,y){
        var z = 10;
        return x+y+z
    }
    var fn7 = (x,y) =>{
        var z = 10;
        return x+y+z
    }
    console.log(fn7(20,30,10));//60

    //由于大括号被解释为代码块，所以如果箭头函数直接返回一个对象，必须在对象外面加上括号，否则会报错
    var fn8 = function (){
        return{
            x:10,
            y:20
        }
    }
    var fn9 = ()=>({x:10,y:20})


    //箭头函数的一个用处是简化回调函数（匿名函数）
    var arr = [10,20,30]
    arr.map(function (element,index){
        console.log(element)
    })

    arr.map((element,index)=>{
        console.log(element)
    })

    //使用注意点：对于普通函数来说，内部this指向函数运行时所在的对象，但是这一点对箭头函数不成立。
    //它没有自己的this对象，内部的this就是定义时上层作用域中的this
    var name = "oldwei"
    var user ={
        name:"lan",
        age:18,
        getName(){
            // console.log(this.name);//lan

            // setTimeout(function (){
            //     console.log(this.name);//oldwei
            // })

            //箭头函数不成立,它没有自己的this对象,所以往上一个找到getname，而getname中this指向的是user
            setTimeout(()=>{
                console.log(this.name);//lan
            })
        }

    }
    user.getName()
</script>
</body>
</html>